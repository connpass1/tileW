import Drawer from "@/components/drawer";
import Breadcrumb from "@/components/elements/breadcrumb";
import Menu from "@/components/menu";
import Search from "@/components/search";
import type { Metadata } from "next";
import dynamic from "next/dynamic";
import { Inter, Roboto } from "next/font/google";
import Image from "next/image";
import Link from "next/link";
import { BiHome } from "react-icons/bi";
import "./globals.css";

const ThemeHandler = dynamic(() => import("@/components/themeHandler"));
const UserHandler = dynamic(() => import("@/components/userHandler"));
const roboto = Roboto({
  weight: "300",
  subsets: ["latin", "cyrillic"],
});
const inter = Inter({
  subsets: ["latin", "cyrillic"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ru" className="dark">
      <body className={inter.className}>
        <main>
          <Breadcrumb />
          {children}
        </main>
        <header>
          <Drawer />
          <Link className="hidden lg:block" href="/">
            <BiHome className="icon" />
          </Link>
        </header>

        <aside className={roboto.className}>
          <Menu />
        </aside>

        <footer className={roboto.className}>
          <div className="mx-auto w-full max-w-screen-xl p-4 md:py-8">
            <div className="sm:flex sm:items-center sm:justify-between">
              <Image src="/vercel.svg" height={48} width={48} alt="vercel" />

              <ul className="mb-6 flex flex-wrap items-center text-sm font-medium text-gray-500 dark:text-gray-400 sm:mb-0">
                <li>
                  <Link href="#" className="mr-4 hover:underline md:mr-6 ">
                    About
                  </Link>
                </li>
                <li>
                  <Link href="#" className="mr-4 hover:underline md:mr-6">
                    Privacy Policy
                  </Link>
                </li>
              </ul>
            </div>
            <hr className="my-6 border-gray-200 dark:border-gray-700 sm:mx-auto lg:my-8" />
            <span className="block text-sm text-gray-500 dark:text-gray-400 sm:text-center">
              © 2023{" "}
              <a href="https://flowbite.com/" className="hover:underline">
                Flowbite™
              </a>
              . All Rights Reserved.
            </span>
          </div>
        </footer>

        <ThemeHandler />
        <UserHandler />
        <Search />
      </body>
    </html>
  );
}
